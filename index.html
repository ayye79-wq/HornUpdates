<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
 <title>Horn Updates | Horn of Africa News, Analysis & Daily Briefings</title>


  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="canonical" href="https://hornupdates.com/" />

  <meta name="description" content="Horn Updates provides independent news and concise analysis from across the Horn of Africa, covering Ethiopia, Somalia, Eritrea, Djibouti, and Sudan with daily updates and links to trusted sources." />

  <meta name="robots" content="index,follow">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1220">

  <!-- WebSite Schema (Sitelinks Search Box eligibility) -->
  <script type="application/ld+json" id="websiteSchema">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "@id": "https://hornupdates.com/#website",
    "url": "https://hornupdates.com/",
    "name": "Horn Updates",
    "publisher": { "@id": "https://hornupdates.com/#organization" },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://hornupdates.com/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Organization Schema (SITE IDENTITY) -->
  <script type="application/ld+json" id="orgSchema">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "@id": "https://hornupdates.com/#organization",
    "name": "Horn Updates",
    "url": "https://hornupdates.com/",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hornupdates.com/Horn1_logo.png"
    },
    "sameAs": ["https://x.com/HornUpdatesHQ"]
  }
  </script>

  <link rel="stylesheet" href="style.css" />

  <!-- Sidebar layout -->
  <style>
    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1fr) 360px;
      gap: 20px;
      align-items: start;
      margin-top: 12px;
    }
    .sidebar { position: sticky; top: 16px; }
    .sidebar-box {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 14px;
      padding: 12px;
      margin-bottom: 16px;
    }
    @media (max-width: 900px) { .layout { grid-template-columns: 1fr; } }
    @media (max-width: 600px) { .sidebar { display: none; } }

    /* ✅ Ads only in sidebar, hidden by default until we decide to show */
    .sidebar-ad { display: none; }
  </style>
</head>

<body>
  <h1 class="sr-only">Horn Updates – News from the Horn of Africa</h1>

  <div class="page">
    <!-- HEADER -->
    <header class="site-header">
      <div class="brand">
        <img src="Horn1_logo.png" alt="Horn Updates logo" class="logo" />
        <div class="brand-text">
          <h1>Horn Updates</h1>
          <p class="tagline">News from the Horn of Africa</p>
        </div>
      </div>

      <!-- FILTER NAV -->
      <nav class="nav-filters">
        <button class="filter-pill active" data-filter="all">All</button>
        <button class="filter-pill" data-filter="Politics">Politics</button>
        <button class="filter-pill" data-filter="Business">Business</button>
        <button class="filter-pill" data-filter="Society">Society</button>
        <button class="filter-pill" data-filter="Security">Security</button>
        <button class="filter-pill" data-filter="Culture">Culture</button>
        <button class="filter-pill" data-filter="Diaspora">Diaspora</button>
      </nav>
    </header>

    <!-- INTRO -->
  
      <p class="intro">
  Horn Updates is an independent news aggregation platform focused on the Horn of Africa.
  We provide clear, concise reporting and analysis covering Ethiopia, Somalia, Eritrea,
  Djibouti, and Sudan, with daily updates and direct links to trusted regional and
  international news organizations.
</p>



    <!-- BREAKING BAR -->
    <section class="breaking-bar" id="breaking-bar">
      <span class="breaking-label">BREAKING</span>
      <a id="breaking-link" class="breaking-link" href="#"></a>
    </section>

    <!-- MAIN LAYOUT -->
    <div class="layout">
      <main class="content">
        <section class="featured-section">
          <h2>Featured story</h2>
          <div id="featured-container"></div>
        </section>

        <section class="latest-section">
          <h2>Latest stories</h2>
          <div id="latest-container"></div>
        </section>
      </main>

      <aside class="sidebar">
        <a href="https://x.com/HornUpdatesHQ" target="_blank" rel="noopener" class="twitter-link">
          Follow us on X
        </a>

        <!-- ✅ Sidebar AdSense (single unit) -->
        <div class="sidebar-box sidebar-ad" id="sidebar-ad">
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-7773342225754932"
               data-ad-slot="8296199432"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
        </div>

        <div class="sidebar-box about-mini">
          <h3>Quick Updates</h3>
          <p>
            Stay informed without information overload.
            Scan key headlines, read short summaries,
            and click through only when you want more.
          </p>
        </div>
      </aside>
    </div>

    <!-- FOOTER -->
    <footer class="site-footer">
      <p>© 2025 Horn Updates. All rights reserved.</p>

      <p class="footer-links" style="margin-top:8px; font-size:.9rem;">
        <a href="about.html">About</a> •
        <a href="editorial-policy.html">Editorial Policy</a> •
        <a href="privacy.html">Privacy</a> •
        <a href="terms.html">Terms</a> •
        <a href="disclaimer.html">Disclaimer</a> •
        <a href="contact.html">Contact</a>
      </p>

      <p class="footer-meta" style="margin-top:6px;">
        Sources include Reuters, BBC, VOA, and other reputable outlets.
      </p>
    </footer>
  </div>

  <script>
  // ---------- ADSENSE SAFE LOADER (sidebar only) ----------
  function loadAdSenseOnce() {
    if (window.__adsense_loaded) return;
    window.__adsense_loaded = true;

    const s = document.createElement("script");
    s.async = true;
    s.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7773342225754932";
    s.crossOrigin = "anonymous";
    document.head.appendChild(s);
  }

  function pushAdsSafely() {
    if (!window.adsbygoogle) window.adsbygoogle = [];
    document.querySelectorAll("ins.adsbygoogle").forEach(ins => {
      if (ins.getAttribute("data-adsbygoogle-status") === "done") return;
      try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch (e) {}
    });
  }

  function showSidebarAd() {
    const el = document.getElementById("sidebar-ad");
    if (el) el.style.display = "block";
  }

  // ---------- HELPERS ----------
  function buildReaderLink(sourceUrl) {
    return "reader.html?url=" + encodeURIComponent(sourceUrl || "#");
  }

  function getCountries(article) {
    const raw = article.countries || article.country_tags || [];
    if (!raw) return [];
    if (Array.isArray(raw)) return raw;
    return [String(raw)];
  }

  function formatCountries(article) {
    return getCountries(article).join(" • ");
  }

  function clamp(text, max) {
    if (!text) return "";
    return text.length > max ? text.slice(0, max) + "…" : text;
  }

  function getTopicLabel(article) {
    if (Array.isArray(article.topic_tags) && article.topic_tags.length) {
      return String(article.topic_tags[0] || "").trim() || "General";
    }
    return (
      String(article.category || "").trim() ||
      String(article.topic || "").trim() ||
      "General"
    );
  }

  function niceDate(iso) {
    if (!iso) return "";
    const d = new Date(iso);
    return isNaN(d) ? String(iso) : d.toLocaleString();
  }

  // ---------- RENDER ----------
  function renderStoryCard(article, isFeatured = false) {
    const countriesArr = getCountries(article);
    const category = getTopicLabel(article);
    const published = article.published_at || "";
    const sourceName = article.source_name || article.source || "";
    const href = buildReaderLink(article.source_url || article.link);

    const title = clamp(article.title || "Untitled story", isFeatured ? 160 : 120);
    const summary = clamp(article.summary || article.excerpt || "", isFeatured ? 280 : 220);

    const countryTags = countriesArr.map(c => `<span class="tag-pill">${c}</span>`).join("");

    const cardClass = "story-card" + (isFeatured ? " story-card--featured" : "");

    return `
      <article class="${cardClass}">
        <header class="story-header">
          <div class="story-tags">
            ${countryTags}
            <span class="tag-pill tag-category">${category}</span>
          </div>
          <h3 class="story-title">
            <a class="story-link" href="${href}">${title}</a>
          </h3>
        </header>
        ${summary ? `<p class="story-summary">${summary}</p>` : ""}
        <footer class="story-meta">
          ${sourceName ? `<span class="story-source">${sourceName}</span>` : ""}
          ${published ? `<span class="story-date">${niceDate(published)}</span>` : ""}
        </footer>
      </article>
    `;
  }

  function setBreakingBar(article) {
    const linkEl = document.getElementById("breaking-link");
    if (!linkEl || !article) return;

    const countriesStr = formatCountries(article);
    let label = article.title || "";
    if (countriesStr) label += " — " + countriesStr;
    label = clamp(label, 140);

    linkEl.textContent = label;
    linkEl.href = buildReaderLink(article.source_url || article.link);
  }

  // ---------- STATE ----------
  let allArticles = [];
  let currentFilter = "all";

  function matchesFilter(article, filter) {
    if (filter === "all") return true;
    const needle = String(filter || "").toLowerCase();

    const countries = getCountries(article).join(" ").toLowerCase();
    const topics = (
      (Array.isArray(article.topic_tags) ? article.topic_tags.join(" ") : "") +
      " " + (article.category || "") +
      " " + (article.topic || "")
    ).toLowerCase();

    const title = (article.title || "").toLowerCase();
    const summary = (article.summary || article.excerpt || "").toLowerCase();
    const source = (article.source_name || article.source || "").toLowerCase();

    return (
      countries.includes(needle) ||
      topics.includes(needle) ||
      title.includes(needle) ||
      summary.includes(needle) ||
      source.includes(needle)
    );
  }

  function renderPage(filteredList) {
    const featuredContainer = document.getElementById("featured-container");
    const latestContainer = document.getElementById("latest-container");

    if (!featuredContainer || !latestContainer) return;

    if (!filteredList.length) {
      featuredContainer.innerHTML = "<p>No stories available.</p>";
      latestContainer.innerHTML = "";
      return;
    }

    const featured = filteredList[0];
    const latest = filteredList.slice(1);

    featuredContainer.innerHTML = renderStoryCard(featured, true);
    latestContainer.innerHTML = latest.map(a => renderStoryCard(a)).join("");

    setBreakingBar(featured);
  }

  function applyFilter() {
    const filtered = allArticles.filter(a => matchesFilter(a, currentFilter));
    renderPage(filtered.length ? filtered : allArticles);
  }

  function setupFilters() {
    document.querySelectorAll(".filter-pill").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".filter-pill").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        currentFilter = btn.dataset.filter || "all";
        applyFilter();
      });
    });
  }

  function loadArticles() {
    fetch(`articles.json?v=${Date.now()}`)
      .then(res => res.json())
      .then(data => {
        let list = Array.isArray(data) ? data : (data.articles || []);
        list = list.filter(a => a.title && (a.source_url || a.link));
        list.sort((a, b) => new Date(b.published_at || 0) - new Date(a.published_at || 0));

        allArticles = list;
        applyFilter();

        // ✅ Sidebar AdSense AFTER content is rendered
        const MIN_ARTICLES_FOR_ADS = 5;
        if (list.length >= MIN_ARTICLES_FOR_ADS) {
          showSidebarAd();
          loadAdSenseOnce();

          let tries = 0;
          const t = setInterval(() => {
            tries++;
            const hasAdUnits = document.querySelectorAll("ins.adsbygoogle").length > 0;
            const scriptLoaded = !!window.adsbygoogle;
            if (hasAdUnits && scriptLoaded) {
              clearInterval(t);
              pushAdsSafely();
            }
            if (tries >= 20) clearInterval(t);
          }, 350);
        } else {
          const ad = document.getElementById("sidebar-ad");
          if (ad) ad.style.display = "none";
        }
      })
      .catch(err => {
        console.error("Error loading articles.json:", err);
        const fc = document.getElementById("featured-container");
        if (fc) fc.innerHTML = "<p>Failed to load stories.</p>";
      });
  }

  window.addEventListener("DOMContentLoaded", () => {
    setupFilters();
    loadArticles();
  });
  </script>

  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</body>
</html>
